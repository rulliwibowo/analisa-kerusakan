{% extends "base.html" %} {% block title %}Model Training{% endblock %} {% block
content %}
<div class="container mt-4">
  <h3>ðŸ”§ Train YOLO Model</h3>
  <p>Click the button below to start retraining the YOLO model.</p>

  <form method="POST" action="{{ url_for('train_yolo') }}" id="train-form">
    <button class="btn btn-primary" type="submit" id="train-button">
      ðŸš€ Start YOLO Training
    </button>
  </form>

  <!-- Loader (hidden by default) -->
  <div id="loading" class="mt-4 d-none text-center">
    <div
      class="spinner-border text-primary"
      role="status"
      style="width: 3rem; height: 3rem"
    >
      <span class="sr-only">Loading...</span>
    </div>
    <p class="mt-3 font-weight-bold text-primary">
      Training in progress... Please wait.
    </p>
  </div>

  <hr />

  <p>
    <strong>Note:</strong> Please wait a few minutes after clicking the button.
    The new model will be automatically saved in the
    <code>yolo/weights/</code> folder.
  </p>

  {% if latest_model %}
  <p>ðŸ•’ Last trained model: <strong>{{ latest_model }}</strong></p>
  {% endif %}
</div>

<script>
  document.getElementById("train-form").addEventListener("submit", function () {
    document.getElementById("train-button").disabled = true;
    document.getElementById("loading").classList.remove("d-none");
  });
</script>
{% endblock %}
